<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy Birthday</title>

<style>
html, body {
  margin: 0;
  padding: 0;
  width: 100%;
  height: 100%;
  font-family: Arial, sans-serif;
  overflow: hidden;
}

/* ================== SECTIONS ================== */
.section {
  position: absolute;
  inset: 0;
  display: none;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  background: linear-gradient(45deg, #0000ff, #6e026e, #000000);
  background-size: 400% 400%;
  animation: gradientMove 15s ease infinite;
  color: white;
  text-align: center;
  padding: 20px;
}

.section.active {
  display: flex;
}

@keyframes gradientMove {
  0% { background-position: 0% 0%; }
  50% { background-position: 100% 100%; }
  100% { background-position: 0% 0%; }
}

/* ================== SHAKE ================== */
@keyframes shake {
  0% { transform: translate(0,0); }
  20% { transform: translate(-15px,10px); }
  40% { transform: translate(15px,-10px); }
  60% { transform: translate(-15px,-10px); }
  80% { transform: translate(15px,10px); }
  100% { transform: translate(0,0); }
}
.shake {
  animation: shake 0.4s infinite;
}

/* ================== FLASH ================== */
#flash {
  position: fixed;
  inset: 0;
  background: black;
  opacity: 0;
  pointer-events: none;
  z-index: 9999;
  transition: opacity 0.1s;
}

/* ================== POPUP ================== */
#popup {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: rgba(0,0,0,0.95);
  color: white;
  padding: 30px 35px;
  border-radius: 14px;
  font-size: 18px;
  display: none;
  z-index: 10000;
  max-width: 90%;
  line-height: 1.5;
}

#popupClose {
  position: absolute;
  top: 10px;
  right: 14px;
  font-size: 26px;
  cursor: pointer;
  color: white;
}

/* ================== HOME ================== */
.title {
  font-size: clamp(40px, 8vw, 80px);
  margin-bottom: 40px;
}

.nav-buttons {
  display: grid;
  grid-template-columns: repeat(2, auto);
  gap: 30px;
}

.nav-buttons button {
  padding: 20px 30px;
  font-size: 20px;
  border-radius: 15px;
  border: none;
  cursor: pointer;
  background: #9c028d;
  color: white;
}

/* ================== CONFETTI (HOME ONLY) ================== */
.confetti {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 1;
}

.confetti-piece {
  position: absolute;
  width: 10px;
  height: 10px;
  top: -10px;
  animation: fall linear infinite;
}

@keyframes fall {
  to { transform: translateY(100vh) rotate(360deg); }
}

/* ================== SECTION 4 ================== */
#counter {
  font-size: clamp(28px, 6vw, 48px);
}

#moveBtn {
  position: absolute;
  padding: 20px 40px;
  font-size: 22px;
  border-radius: 12px;
  border: none;
  background: rgb(0, 8, 124);
  color: white;
  cursor: pointer;
}
</style>
</head>

<body>

<div id="flash"></div>

<div id="popup">
  <span id="popupClose">√ó</span>
  So here is now the message (sorry for the small jumpscare, had to be)<br><br>
  I wanted to thank you for all the time we spend together. Even tho I am very bad in Valorant it was still fun playing it with you.<br><br>
  I also wanted to thank you for all of the times you were there to text with me when I needed it.<br><br>
  Because I didn't know how to wish you a great birthday otherwise (I had many ideas but none of them seemed good enough)<br><br>
  I decided to just simply write 300 lines of code to wish you a happy birthday in this way<br><br>
  I hope you have a great birthday 
</div>

<div class="confetti" id="confetti"></div>

<!-- ================== HOME ================== -->
<div id="home" class="section active">
  <div class="title">üéâ Happy Birthday! üéâ</div>
  <div class="nav-buttons">
    <button onclick="showSection('section1')">‚úâÔ∏è A Message for You</button>
    <button onclick="showSection('section2')">üéÇ Fun Facts</button>
    <button onclick="showSection('section3')">üîÆ Birthday Fortune</button>
    <button onclick="showSection('section4')">‚ùå Save this one for last</button>
  </div>
</div>

<!-- ================== SECTION 1 ================== -->
<div id="section1" class="section">
  <h1>‚úâÔ∏è A Message for You</h1>
  <p>
    I didn't want to make it too easy to see the message,<br>
    so I hid it behind 50 button presses.<br>
    (I don't recommend wearing a headset)
  </p>
  <button onclick="showSection('home')">Back to Home</button>
</div>

<!-- ================== SECTION 2 ================== -->
<div id="section2" class="section">
  <h1>üéÇ Fun Birthday Facts</h1>
  <p>
    ‚Ä¢ You can now buy and consume alcohol<br>
    ‚Ä¢ You can adopt children (if legal conditions are met)<br>
    ‚Ä¢ You can rent cars (some companies require 21+)
  </p>
  <button onclick="showSection('home')">Back to Home</button>
</div>

<!-- ================== SECTION 3 ================== -->
<div id="section3" class="section">
  <h1>üîÆ Birthday Fortune</h1>
  <p>
    You are now 18.<br>
    That‚Äôs basically the fortune.<br>
    (And I can call you a pedophile now :D)
  </p>
  <button onclick="showSection('home')">Back to Home</button>
</div>

<!-- ================== SECTION 4 ================== -->
<div id="section4" class="section">

  <h1 id="counter">0 / 50</h1>
  <p>Press this button 50 times for the surprise</p>

  <button id="moveBtn">Press Me</button>

  <button onclick="showSection('home')" style="margin-top:40px;">
    Back to Home
  </button>

  <audio id="jumpscareSound" src="assets/jumpscare.mp3" preload="auto"></audio>
</div>

<script>
function showSection(id) {
  document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  document.getElementById("confetti").style.display = id === "home" ? "block" : "none";
}

/* ================== CONFETTI ================== */
const confetti = document.getElementById("confetti");
setInterval(() => {
  if (confetti.style.display === "none") return;
  const p = document.createElement("div");
  p.className = "confetti-piece";
  p.style.left = Math.random() * innerWidth + "px";
  p.style.background = `hsl(${Math.random()*360},100%,50%)`;
  p.style.animationDuration = 2 + Math.random() * 3 + "s";
  confetti.appendChild(p);
  setTimeout(() => p.remove(), 5000);
}, 100);

/* ================== SECTION 4 ================== */
const btn = document.getElementById("moveBtn");
const counter = document.getElementById("counter");
const sound = document.getElementById("jumpscareSound");
const flash = document.getElementById("flash");
const popup = document.getElementById("popup");

let count = 0;
let unlocked = false;

function moveButton() {
  btn.style.left = Math.random() * (innerWidth - btn.offsetWidth - 20) + "px";
  btn.style.top = Math.random() * (innerHeight - btn.offsetHeight - 20) + "px";
}

btn.onclick = () => {
  if (count >= 50) return;

  if (!unlocked) {
    sound.play().then(() => {
      sound.pause();
      sound.currentTime = 0;
      unlocked = true;
    }).catch(()=>{});
  }

  count++;
  counter.textContent = count + " / 50";
  moveButton();

  if (count === 49) {
    btn.textContent = "FINAL PRESS";

    flash.style.opacity = "1";
    flash.style.background = "black";
    setTimeout(()=>flash.style.background="white",100);
    setTimeout(()=>flash.style.opacity="0",200);

    sound.currentTime = 0;
    sound.play();
    document.body.classList.add("shake");
    setTimeout(()=>document.body.classList.remove("shake"),500);
  }

  if (count === 50) {
    btn.style.display = "none";
    popup.style.display = "block";
  }
};

document.getElementById("popupClose").onclick = () => {
  popup.style.display = "none";
};

moveButton();
</script>

</body>
</html>

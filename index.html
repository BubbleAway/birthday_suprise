<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Happy Birthday</title>

<style>
html, body {
  margin:0; padding:0;
  width:100%; height:100%;
  font-family:Arial, sans-serif;
  overflow:hidden;
  background:#333;
}

/* CODE GATE */
#codeGate{
  position:fixed; inset:0;
  display:flex; flex-direction:column;
  align-items:center; justify-content:center;
  background:linear-gradient(135deg,#000,#2a2a2a);
  animation:gradientMoveCode 15s linear infinite;
  color:white; z-index:10000;
}
#submitCode{margin-top:15px;padding:12px 20px;font-size:1.2rem;border-radius:10px;border:none;cursor:pointer;background:#8a00ff;color:white;}
#codeInput{padding:12px 15px;font-size:1.2rem;border-radius:8px;border:none;text-align:center;width:150px;}
#codeError{margin-top:10px;color:#ff4c4c;height:18px}

/* SECTIONS */
.section{
  position:absolute; inset:0;
  display:none; flex-direction:column;
  align-items:center; justify-content:center;
  color:white; text-align:center; padding:20px;
  background-size:400% 400%;
  animation:gradientMoveSection 20s linear infinite;
}
.section.active{display:flex;}
#home,#section1,#section2,#section3{background:linear-gradient(135deg,#330066,#b300cc);}
#section4{background:linear-gradient(135deg,#001f4d,#0033cc);}

.title{font-size:clamp(2rem,8vw,5rem);margin-bottom:40px;}
.nav-buttons{display:grid;grid-template-columns:repeat(2,auto);gap:20px;}
.nav-buttons button,.backHome{
  padding:16px 20px;font-size:1.2rem;border-radius:12px;border:none;cursor:pointer;
  background:#9c028d;color:white;min-width:140px;
}
.backHome{margin-top:30px;background:#7a00ff;}

/* BUTTON GAME */
#counter{font-size:clamp(1.5rem,5vw,3rem);margin-bottom:20px;}
#instruction{margin-bottom:15px;}
#moveBtn{
  position:absolute;padding:16px 30px;font-size:1.2rem;
  border-radius:12px;border:none;background:#002fa7;color:white;cursor:pointer;
}

/* FINAL MESSAGE BUTTON (appears after 50) */
#visitBtn{
  display:none;margin-top:25px;
  padding:16px 28px;font-size:1.1rem;border-radius:12px;border:none;
  background:#ffd43b;color:#000;font-weight:600;cursor:pointer;
}

/* POPUP */
#popup{
  position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);
  display:none;background:#0000ff;color:white;text-align:center;
  padding:30px 40px;border-radius:15px;box-shadow:0 0 20px rgba(0,0,0,.5);
  z-index:20000;max-width:90%;
  animation:popupGradient 10s ease infinite;
}
#popupClose{position:absolute;top:10px;right:14px;font-size:1.5rem;cursor:pointer;color:white;}

@keyframes popupGradient{
  0%{background:#0000ff;}33%{background:#9b00ff;}66%{background:#000;}100%{background:#0000ff;}
}
@keyframes gradientMoveCode{0%{background-position:0 0}50%{background-position:0 100%}100%{background-position:0 0}}
@keyframes gradientMoveSection{0%{background-position:0 0}50%{background-position:100% 100%}100%{background-position:0 0}}

@media(max-width:600px){
  .nav-buttons{grid-template-columns:1fr;gap:15px;}
}
</style>
</head>

<body>

<!-- CODE GATE -->
<div id="codeGate">
  <h2>Please Enter Code</h2>
  <input id="codeInput" type="password" maxlength="6" placeholder="Enter code" />
  <button id="submitCode">Submit</button>
  <div id="codeError"></div>
</div>

<!-- HOME -->
<div id="home" class="section">
  <div class="title">üéâ Happy Birthday! üéâ</div>
  <div class="nav-buttons">
    <button onclick="showSection('section1')">‚úâÔ∏è Short Message</button>
    <button onclick="showSection('section2')">üéÇ Short Facts</button>
    <button onclick="showSection('section3')">üîÆ Birthday Fortune</button>
    <button onclick="showSection('section4')">‚ùå Save for last</button>
  </div>
</div>

<div id="section1" class="section">
  <h1>‚úâÔ∏è Short Message</h1>
  <p>The real message is hidden at the end üôÇ</p>
  <button class="backHome" onclick="showSection('home')">Back to Home</button>
</div>

<div id="section2" class="section">
  <h1>üéÇ Fun Birthday Facts</h1>
  <p>‚Ä¢ You can now buy and consume alcohol (maybe share some :D)<br>‚Ä¢ You can adopt children (useful for your plans ig)<br>‚Ä¢ You can rent cars (some companies require 21+)</p>
  <button class="backHome" onclick="showSection('home')">Back to Home</button>
</div>

<div id="section3" class="section">
  <h1>üîÆ Birthday Fortune</h1>
  <p>You are now 18. That‚Äôs the fortune üòÑ</p>
  <button class="backHome" onclick="showSection('home')">Back to Home</button>
</div>

<!-- SECTION 4 -->
<div id="section4" class="section">
  <h1 id="counter">0 / 50</h1>
  <p id="instruction">Press the button 50 times for the surprise</p>

  <button id="moveBtn">Press Me</button>

  <!-- appears AFTER 50 presses -->
  <button id="visitBtn">Visit Final Message</button>

  <button class="backHome" onclick="showSection('home')">Back to Home</button>
</div>

<!-- POPUP -->
<div id="popup">
  <span id="popupClose">√ó</span>
  <p>I wanted to thank you for all the time we spend together. Even though I‚Äôm bad at Valorant, it was still fun playing with you.</p>
  <p>Thanks for being there to talk when I needed it.</p>
  <p>I didn‚Äôt know how else to wish you a great birthday, so I made this instead.</p>
  <p>I really enjoy spending time with you ‚Äî thanks for everything.</p>
  <p>‚ù§Ô∏è I hope you have a great birthday üéâ</p>
</div>

<script>
// ===== CODE GATE =====
const SECRET="311225";
const codeGate=document.getElementById("codeGate");
const codeInput=document.getElementById("codeInput");
const codeError=document.getElementById("codeError");
const sections=document.querySelectorAll(".section");

function showSection(id){
  sections.forEach(s=>s.classList.remove("active"));
  document.getElementById(id).classList.add("active");
}
document.getElementById("submitCode").onclick=()=>{
  if(codeInput.value===SECRET){
    codeGate.style.display="none";
    showSection("home");
  } else {
    codeError.textContent="Incorrect code. Try again.";
    codeInput.value="";
  }
};

// ===== 50 BUTTON GAME =====
const btn=document.getElementById("moveBtn");
const counter=document.getElementById("counter");
const instruction=document.getElementById("instruction");
const visitBtn=document.getElementById("visitBtn");
const popup=document.getElementById("popup");
const closePopup=document.getElementById("popupClose");

let count=0;
let firstPress=true;
let visitedOnce=false;

btn.onclick=()=>{
  if(firstPress){
    firstPress=false;
    return;
  }

  count++;
  counter.textContent=`${count} / 50`;

  if(count<50){
    const maxX=window.innerWidth-btn.offsetWidth-10;
    const maxY=window.innerHeight-btn.offsetHeight-10;
    btn.style.left=Math.random()*maxX+"px";
    btn.style.top=Math.random()*maxY+"px";
  } else {
    // GAME COMPLETE ‚Äî hide game UI
    btn.style.display="none";
    counter.style.display="none";
    instruction.style.display="none";

    // show "visit final message" button
    visitBtn.style.display="inline-block";
  }
};

// visit / revisit button behavior
visitBtn.onclick=()=>{
  popup.style.display="block";

  if(!visitedOnce){
    visitedOnce=true;
    visitBtn.textContent="Revisit Final Message";
  }
};

closePopup.onclick=()=>popup.style.display="none";
</script>

</body>
</html>
